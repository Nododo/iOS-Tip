<!DOCTYPE html>
<!-- saved from url=(0115)http://mp.weixin.qq.com/s?__biz=MzA3NzM0NzkxMQ==&mid=206050109&idx=1&sn=c38de66569e98f187f60f6815d863215&scene=5#rd -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">         <script type="text/javascript">
    var sampling = Math.random() < 0.001;
    var page_begintime = (+new Date());
    (sampling) && ((new Image()).src = "http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7839&flag2=7&flag3=8&15=1000&r=" + Math.random());

    var biz = "MzA3NzM0NzkxMQ==";
    var sn = "c38de66569e98f187f60f6815d863215" || "";
    var mid = "206050109" || "";
    var idx = "1" || "" ;
    
    //辟谣需求
    var is_rumor = ""*1;
    var norumor = ""*1;
    if (!!is_rumor&&!norumor){
      if (!document.referrer || document.referrer.indexOf("mp.weixin.qq.com/mp/rumor") == -1){
        location.href = "http://mp.weixin.qq.com/mp/rumor?action=info&__biz=" + biz + "&mid=" + mid + "&idx=" + idx + "&sn=" + sn + "#wechat_redirect";
      }
    }

    //原创需求，需要跳转到中间页
    /*
    var copyrightInfo = {
        display_source : ""*1,
        nocopyrightsource : ""*1
    };
    if (!!copyrightInfo.display_source&&!copyrightInfo.nocopyrightsource){
      if (!document.referrer || document.referrer.indexOf("mp.weixin.qq.com/mp/reprint") == -1){
        location.href = "http://mp.weixin.qq.com/mp/reprint?action=info&__biz=" + biz + "&mid=" + mid + "&idx=" + idx + "&sn=" + sn + "#wechat_redirect";
      }
    }*/
</script>        <link rel="dns-prefetch" href="http://res.wx.qq.com/"><link rel="dns-prefetch" href="http://mmbiz.qpic.cn/"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"><link rel="shortcut icon" type="image/x-icon" href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/favicon22c41b.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"><script type="text/javascript">
    var uin = "";
    var key = "";
    var pass_ticket = "";

String.prototype.html= function(encode) {
    var replace =["&#39;", "'", "&quot;", '"', "&nbsp;", " ", "&gt;", ">", "&lt;", "<", "&amp;", "&", "&yen;", "¥"];
    //console.log(replace);
    if(encode){
        replace.reverse();
    }
    for (var i=0,str=this;i< replace.length;i+= 2){
         str=str.replace(new RegExp(replace[i],'g'),replace[i+1]);
    }
    
    return str;
};
pass_ticket = encodeURIComponent(pass_ticket.html(false).html(false).replace(/\s/g,"+"));
</script>        <title>Objective-C开发编码规范</title>        <link rel="stylesheet" type="text/css" href="./Objective-C开发编码规范_files/page_mp_article_improve25ab40.css"><style>         </style><!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg/page_mp_article_improve_pc25ab40.css"><![endif]--><script type="text/javascript">
    document.domain = "qq.com";
</script>    <script src="./Objective-C开发编码规范_files/class236751.js" type="text/javascript" async=""></script><script src="./Objective-C开发编码规范_files/index25b6ff.js" type="text/javascript" async=""></script><link rel="stylesheet" type="text/css" href="./Objective-C开发编码规范_files/not_in_mm24ed02.css"></head>    <body id="activity-detail" class="zh_CN mm_appmsg not_in_mm" ontouchstart="">            <script type="text/javascript">
        var write_sceen_time = (+new Date());
        (sampling) && ((new Image()).src = "http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7839&flag2=7&flag3=8&16=1000&r=" + Math.random());
    </script>        <div id="js_cmt_mine" class="discuss_container editing access" style="display:none;">        <div class="discuss_container_inner">            <h2 class="rich_media_title">Objective-C开发编码规范</h2>            <div class="frm_textarea_box_wrp">                <span class="frm_textarea_box">                    <textarea id="js_cmt_input" class="frm_textarea" placeholder="评论将由公众帐号筛选后显示，对所有人可见。"></textarea>                </span>            </div>            <div class="discuss_btn_wrp"><a id="js_cmt_submit" class="btn btn_primary btn_discuss btn_disabled" href="javascript:;">提交</a></div>            <div class="discuss_list_wrp" style="display:none">                <div class="rich_tips with_line title_tips discuss_title_line">                    <span class="tips">我的评论</span>                </div>                <ul class="discuss_list" id="js_cmt_mylist"></ul>            </div>            <div class="rich_tips tips_global loading_tips" id="js_mycmt_loading">                <img src="./Objective-C开发编码规范_files/icon_loading_white22c04a.gif" class="rich_icon icon_loading_white" alt="">                <span class="tips">加载中</span>            </div>            <div class="wx_poptips" id="js_cmt_toast" style="display:none;">                <img alt="" class="icon_toast" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABqCAYAAABUIcSXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyMTUxMzkxZS1jYWVhLTRmZTMtYTY2NS0xNTRkNDJiOGQyMWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA3QzM2RTg3N0UwMTFFNEIzQURGMTQzNzQzMDAxQTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA3QzM2RTc3N0UwMTFFNEIzQURGMTQzNzQzMDAxQTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NWMyOGVjZTMtNzllZS00ODlhLWIxZTYtYzNmM2RjNzg2YjI2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIxNTEzOTFlLWNhZWEtNGZlMy1hNjY1LTE1NGQ0MmI4ZDIxYiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmvxj1gAAAVrSURBVHja7J15rF1TFMbXk74q1ZKHGlMkJVIhIgg1FH+YEpEQJCKmGBpThRoSs5jVVNrSQUvEEENIhGiiNf9BiERICCFIRbUiDa2qvudbOetF3Tzv7XWGffa55/uS7593977n3vO7e5+199p7v56BgQGh0tcmvAUERREUQVEERREUQVEERREUQVEERREUQVEERREUQVEERREUQVEERVAUQVEERVAUQbVYk+HdvZVG8b5F0xj4RvhouB+eCy8KrdzDJc1RtAX8ILxvx98V1GyCSkN98Cx4z/95/Wn4fj6j6tUEeN4wkFSnw1MJqj5NhBfAuwaUHREUg4lqNMmePVsHll/HFhVfe1t3FwpJI8DXCCquDrCWNN4B6Tb4M3Z98aTPmTvh0YHl18PXw29yZiKejoPvcUD6E74yFBJbVDk6Bb7K8aP/Hb4c/tRzEYIqprPhSxzlf4Uvhb/0Xoig8qnHAJ3lqPMzfDH8XZ4LEpRf2sVdA5/sqPO9Qfop70UJyn+/boaPddT5yrq7VUUvTIVJI7q74MMddXR8NB1eXcYvhBpZm0s2w72/o86HFoKvLau/pYaXzjLMdUJ6y0LwtWV9CIIaXtvA8+G9HHV03u5q+K+yH47U0NoRngPv7KjzHDwTLj0bS1BDazfJJlcnOOostC6ysnCT+q80G/sIvFVgeW09D8FPVT0uoP7VfvAD8NjA8pqmuAN+OcYAjso0RbIZ8DGB5TVNcRO8JMaHY9SXSdfa3eeANJimWBLrA7JFiZwIXye+NMUV8CcxP2SRFjXefok7NRjSGZJlWUPvw2/wtNiQirSoXWyMsR28wR7AzzYM0oXw+Y7yK+CLJGeaoqjyrJSdZJD6Ov4+z5y6NJc0Az7NUecHydIUy+v60KNyQHoM3nKI1y7YCFiq0i7uBvgER52vDdKqWn9djhY1Dn4G3n6Ecqm2rF74dvgoR53S0hQxW9RJAZAGW5bSn58QJA27dQ7uIEedjywEX5NKVxCqsY6y+qA+LxFI4+yZ6oH0trWkNan80jygtIUsc5SflgAsDXgehfdx1KkkTRE76tN+Xue2jnTU0Ru1oIbvpt30bBtKhOp5yaaRkts0lic8V1i6dPcIRx2d/l8Y8XtNNEg7OOo8bl1kmmOKnDsO88CaYzejau0hWZqiL7C83oCH4SeTHvwV2BqqsHRVztSEYOmWF80NeXZT6Hd4KflResE9vCnBOlCyGfDNAstHTVPUDWoQ1t3iW+9WNizvlhfd4aerXd+ThqiMfNR6+9LvOOro5OY5JX2H4+F7HZD+kGzlamMgldWiirQsjcwWFbjmqZJteekJLK9pisvgL6RhKvuciZiwzrWWGapfrPy30kBVcSBIrw0aD3PU0XB6cehntq7rTMf7/2iQlktDVdXJLXlg6VjmiYBn6rWSTRCH6hvJ0hQrpcGq8oidsmHpTP8t8DGO9/vcWt9qabiqPgup1yKyQwvC2tSefZ73SSpNkUJ4PlLorlHZ+446nc8f3fIyywlJhwrTuwVSjBa1ccvSxN0hjjoK5xVrYZMd9V6XbFfgBukixTwGLg8sDam3dZR/wZ6L/dJlin1en8LS+bgpFbz3Ygvzu1J1HKxYNqxGpCmaCEo12rrBorD6LRp8UbpcdR5VWhTW35KlKd6QFqjuM2XzwlpnMxTvSkuUwuG/Xlg6NtPjbT6WFimF/VG6LEvXgn8QGDjMbBukVECFwhpoS+CQatfX2Q1q6H7wENHdrfCr0lKleEB9JyxNneus+VJpsVL9TwI6W65LovWIGl3KtVJaLv7LBwYTFEERFEVQFEERFEVQFEERFEVQFEERFEVQFEERFEVQFEERFFWq/hFgADUMN4RzT6/OAAAAAElFTkSuQmCC">                <p class="toast_content">已评论</p>            </div>        </div>    </div>    <div id="js_article" class="rich_media">                <div id="js_top_ad_area" class="top_banner">         </div>                        <div class="rich_media_inner">            <div id="page-content">                <div id="img-content" class="rich_media_area_primary">                    <h2 class="rich_media_title" id="activity-name">                        Objective-C开发编码规范                     </h2>                    <div class="rich_media_meta_list">                                                <em id="post-date" class="rich_media_meta rich_media_meta_text">2015-05-09</em>                                                <a class="rich_media_meta rich_media_meta_link rich_media_meta_nickname" href="javascript:void(0);" id="post-user">iOS开发</a>                        <span class="rich_media_meta rich_media_meta_text rich_media_meta_nickname">iOS开发</span>                        <div id="js_profile_qrcode" class="profile_container" style="display:none;">                            <div class="profile_inner">                                <strong class="profile_nickname">iOS开发</strong>                                <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">                                <p class="profile_meta">                                <label class="profile_meta_label">微信号</label>                                <span class="profile_meta_value">iOSDevTip</span>                                </p>                                <p class="profile_meta">                                <label class="profile_meta_label">功能介绍</label>                                <span class="profile_meta_value">最新iOS、iPhone资讯，万名iOS开发者、swift开发、果粉聚集，参与技术讨论，整理开发技巧，分享创业经验！享受生活、热爱编程！</span>                                </p>                                                            </div>                            <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">                                <i class="profile_arrow arrow_out"></i>                                <i class="profile_arrow arrow_in"></i>                            </span>                        </div>                    </div>                                                                                                                                                                <div class="rich_media_content" id="js_content"><p style="white-space: normal;">来源：QianKaiLu</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">Objective-C 编码规范，内容来自苹果、谷歌的文档翻译，自己的编码经验和对其它资料的总结。<br></p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><span style="color: rgb(0, 176, 80);"><strong>概要</strong></span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">Objective-C 是一门面向对象的动态编程语言，主要用于编写 iOS 和 Mac 应用程序。关于 Objective-C 的编码规范，苹果和谷歌都已经有很好的总结：</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>Apple Coding Guidelines for Cocoa</p></li><li><p>Google Objective-C Style Guide</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;">本文主要整合了对上述文档的翻译、作者自己的编程经验和其他的相关资料，为公司总结出一份通用的编码规范。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><span style="color: rgb(0, 176, 80);"><strong>代码格式</strong></span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>使用空格而不是制表符 Tab</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">不
要在工程里使用 Tab 键，使用空格来进行缩进。在 Xcode &gt; Preferences &gt; Text Editing 将 Tab
 和自动缩进都设置为 4 个空格。（Google 的标准是使用两个空格来缩进，但这里还是推荐使用 Xcode 默认的设置。）</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>每一行的最大长度</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">同样的，在 Xcode &gt; Preferences &gt; Text Editing &gt; Page guide at column: 中将最大行长设置为 80 ，过长的一行代码将会导致可读性问题。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>函数的书写</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">一个典型的 Objective-C 函数应该是这样的：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)writeVideoFrameWithData:(NSData *)frameData timeStamp:(int)timeStamp {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">在 - 和 (void) 之间应该有一个空格，第一个大括号 { 的位置在函数所在行的末尾，同样应该有一个空格。（我司的 C 语言规范要求是第一个大括号单独占一行，但考虑到 OC 较长的函数名和苹果 SDK 代码的风格，还是将大括号放在行末。）</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果一个函数有特别多的参数或者名称很长，应该将其按照 : 来对齐分行显示：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">-(id)initWithModel:(IPCModle)model</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">ConnectType:(IPCConnectType)connectType</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Resolution:(IPCResolution)resolution</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">AuthName:(NSString *)authName</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Password:(NSString *)password</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">MAC:(NSString *)mac</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">AzIp:(NSString *)az_ip</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">AzDns:(NSString *)az_dns</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Token:(NSString *)token</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Email:(NSString *)email</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Delegate:(id)delegate;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">在分行时，如果第一段名称过短，后续名称可以以 Tab 的长度（ 4 个空格）为单位进行缩进：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)short:(GTMFoo *)theFoo</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">longKeyword:(NSRect)theRect</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">evenLongerKeyword:(float)theInterval</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">error:(NSError **)theError {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>函数调用</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">函数调用的格式和书写差不多，可以按照函数的长短来选择写在一行或者分成多行：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 写在一行</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObject doFooWith:arg1 name:arg2 error:arg3];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 分行写，按照 ':' 对齐</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObject doFooWith:arg1</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">name:arg2</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">error:arg3];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 第一段名称过短的话后续可以进行缩进</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObj short:arg1</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">longKeyword:arg2</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">evenLongerKeyword:arg3</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">error:arg4];</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">以下写法是错误的：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，要么写在一行，要么全部分行</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObject doFooWith:arg1 name:arg2</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">error:arg3];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObject doFooWith:arg1</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">name:arg2 error:arg3];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，按照 ':' 来对齐，而不是关键字</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObject doFooWith:arg1</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">name:arg2</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">error:arg3];</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>@public 和 @private 标记符</strong></p><p style="white-space: normal;"><strong><br></strong></p><p style="white-space: normal;">@public 和 @private 标记符应该以一个空格来进行缩进：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@interface MyClass : NSObject {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@public</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@private</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@end</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>协议（ Protocols ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">在书写协议的时候注意用 &lt;&gt; 括起来的协议和类型名之间是没有空格的，比如 IPCConnectHandler(), 这个规则适用所有书写协议的地方，包括函数声明、类声明、实例变量等等：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@interface MyProtocoledClass : NSObject {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@private</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">id _delegate;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setDelegate:(id)aDelegate;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@end</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>闭包（ Blocks ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">根据 block 的长度，有不同的书写规则：</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>较短的 block 可以写在一行内。</p></li><li><p>如果分行显示的话， block 的右括号 } 应该和调用 block 那行代码的第一个非空字符对齐。</p></li><li><p>block 内的代码采用 4 个空格 的缩进。</p></li><li><p>如果 block 过于庞大，应该单独声明成一个变量来使用。</p></li><li><p>^ 和 ( 之间， ^ 和 { 之间都没有空格，参数列表的右括号 ) 和 { 之间有一个空格。</p></li></ul><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 较短的 block 写在一行内</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[operation setCompletionBlock:^{ [self onOperationDone]; }];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 分行书写的 block ，内部使用 4 空格缩进</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[operation setCompletionBlock:^{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[self.delegate newDataAvailable];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 使用 C 语言 API 调用的 block 遵循同样的书写规则</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">dispatch_async(_fileIOQueue, ^{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSString* path = [self sessionFilePath];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (path) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// ...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">});</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 较长的 block 关键字可以缩进后在新行书写，注意 block 的右括号 '}' 和调用 block 那行代码的第一个非空字符对齐</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[[SessionService sharedService]</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">loadWindowWithCompletionBlock:^(SessionWindow *window) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (window) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[self windowDidLoad:window];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">} else {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[self errorLoadingWindow];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 较长的 block 参数列表同样可以缩进后在新行书写</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[[SessionService sharedService]</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">loadWindowWithCompletionBlock:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">^(SessionWindow *window) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (window) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[self windowDidLoad:window];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">} else {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[self errorLoadingWindow];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 庞大的 block 应该单独定义成变量使用</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">void (^largeBlock)(void) = ^{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// ...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[_operationQueue addOperationWithBlock:largeBlock];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 在一个调用中使用多个 block ，注意到他们不是像函数那样通过 ':' 对齐的，而是同时进行了 4 个空格的缩进</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[myObject doSomethingWith:arg1</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">firstBlock:^(Foo *a) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// ...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">secondBlock:^(Bar *b) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// ...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}];</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>数据结构的语法糖</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">应该使用可读性更好的语法糖来构造 NSArray ， NSDictionary 等数据结构，避免使用冗长的 alloc,init 方法。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果构造代码写在一行，需要在括号两端留有一个空格，使得被构造的元素于与构造语法区分开来：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，在语法糖的 "[]" 或者 "{}" 两端留有空格</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSArray *array = @[ [foo description], @"Another String", [bar description] ];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *dict = @{ NSForegroundColorAttributeName : [NSColor redColor] };</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 不正确，不留有空格降低了可读性</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSArray* array = @[[foo description], [bar description]];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary* dict = @{NSForegroundColorAttributeName: [NSColor redColor]};</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果构造代码不写在一行内，构造元素需要使用两个空格来进行缩进，右括号 ] 或者 } 写在新的一行，并且与调用语法糖那行代码的第一个非空字符对齐：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSArray *array = @[</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@"This",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@"is",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@"an",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@"array"</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *dictionary = @{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSFontAttributeName : [NSFont fontWithName:@"Helvetica-Bold" size:12],</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSForegroundColorAttributeName : fontColor</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">构造字典时，字典的 Key 和 Value 与中间的冒号 : 都要留有一个空格，多行书写时，也可以将 Value 对齐：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，冒号 ':' 前后留有一个空格</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *option1 = @{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSFontAttributeName : [NSFont fontWithName:@"Helvetica-Bold" size:12],</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSForegroundColorAttributeName : fontColor</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，按照 Value 来对齐</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *option2 = @{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSFontAttributeName : [NSFont fontWithName:@"Arial" size:12],</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSForegroundColorAttributeName : fontColor</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，冒号前应该有一个空格</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *wrong = @{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">AKey: @"b",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BLongerKey: @"c",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，每一个元素要么单独成为一行，要么全部写在一行内</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *alsoWrong= @{ AKey : @"a",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BLongerKey : @"b" };</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，在冒号前只能有一个空格，冒号后才可以考虑按照 Value 对齐</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDictionary *stillWrong = @{</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">AKey : @"b",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BLongerKey : @"c",</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><span style="color: rgb(0, 176, 80);"><strong>命名规范</strong></span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>基本原则</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">清晰</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">命名应该尽可能的清晰和简洁，但在 Objective-C 中，清晰比简洁更重要。由于 Xcode 强大的自动补全功能，我们不必担心名称过长的问题。</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 清晰</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">insertObject:atIndex:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 不清晰， insert 的对象类型和 at 的位置属性没有说明</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">insert:at:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 清晰</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">removeObjectAtIndex:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 不清晰， remove 的对象类型没有说明，参数的作用没有说明</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">remove:</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">不要使用单词的简写，拼写出完整的单词：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 清晰</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">destinationSelection</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">setBackgroundColor:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 不清晰，不要使用简写</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">destSel</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">setBkgdColor:</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">然而，有部分单词简写在 Objective-C 编码过程中是非常常用的，以至于成为了一种规范，这些简写可以在代码中直接使用，下面列举了部分：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">alloc == Allocate max == Maximum</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">alt == Alternate min == Minimum</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">app == Application msg == Message</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">calc == Calculate nib == Interface Builder archive</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">dealloc == Deallocate pboard == Pasteboard</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">func == Function rect == Rectangle</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">horiz == Horizontal Rep == Representation (used in class name such as NSBitmapImageRep).</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">info == Information temp == Temporary</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">init == Initialize vert == Vertical</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">int == Integer</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">命名方法或者函数时要避免歧义</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 有歧义，是返回 sendPort 还是 send 一个 Port ？</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">sendPort</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 有歧义，是返回一个名字属性的值还是 display 一个 name 的动作？</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">displayName</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">一致性</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">整个工程的命名风格要保持一致性，最好和苹果 SDK 的代码保持统一。不同类中完成相似功能的方法应该叫一样的名字，比如我们总是用 count 来返回集合的个数，不能在 A 类中使用 count 而在 B 类中使用 getNumber 。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>使用前缀</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果代码需要打包成 Framework 给别的工程使用，或者工程项目非常庞大，需要拆分成不同的模块，使用命名前缀是非常有用的。</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>前缀由大写的字母缩写组成，比如 Cocoa 中 NS 前缀代表 Founation 框架中的类， IB 则代表 Interface Builder 框架。</p></li><li><p>可以在为类、协议、函数、常量以及 typedef 宏命名的时候使用前缀，但注意不要为成员变量或者方法使用前缀，因为他们本身就包含在类的命名空间内。</p></li><li><p>命名前缀的时候不要和苹果 SDK 框架冲突。</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名类和协议（ Class&amp;Protocol ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">类名以大写字母开头，应该包含一个名词来表示它代表的对象类型，同时可以加上必要的前缀，比如 NSString,NSDate,NSScanner,NSApplication 等等。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">而协议名称应该清晰地表示它所执行的行为，而且要和类名区别开来，所以通常使用 ing 词尾来命名一个协议，比如 NSCopying,NSLocking 。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">有些协议本身包含了很多不相关的功能，主要用来为某一特定类服务，这时候可以直接用类名来命名这个协议，比如 NSObject 协议，它包含了 id 对象在生存周期内的一系列方法。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名头文件（ Headers ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">源码的头文件名应该清晰地暗示它的功能和包含的内容：</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>如果头文件内只定义了单个类或者协议，直接用类名或者协议名来命名头文件，比如 NSLocale.h 定义了 NSLocale 类。</p></li><li><p>如果头文件内定义了一系列的类、协议、类别，使用其中最主要的类名来命名头文件，比如 NSString.h 定义了 NSString 和 NSMutableString 。</p></li><li><p>每一个 Framework 都应该有一个和框架同名的头文件，包含了框架中所有公共类头文件的引用，比如 Foundation.h</p></li><li><p>Framework 中有时候会实现在别的框架中类的类别扩展，这样的文件通常使用被扩展的框架名 +Additions 的方式来命名，比如 NSBundleAdditions.h 。</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名方法（ Methods ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">Objective-C 的方法名通常都比较长，这是为了让程序有更好地可读性，按苹果的说法 “ 好的方法名应当可以以一个句子的形式朗读出来 ” 。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">方法一般以小写字母打头，每一个后续的单词首字母大写，方法名中不应该有标点符号（包括下划线），有两个例外：<br><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>可以用一些通用的大写字母缩写打头方法，比如 PDF,TIFF 等。</p></li><li><p>可以用带下划线的前缀来命名私有方法或者类别中的方法。</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果方法表示让对象执行一个动作，使用动词打头来命名，注意不要使用 do ， does 这种多余的关键字，动词本身的暗示就足够了：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 动词打头的方法表示让对象执行一个动作</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)invokeWithTarget:(id)target;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)selectTabViewItem:(NSTabViewItem *)tabViewItem;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果方法是为了获取对象的一个属性值，直接用属性名称来命名这个方法，注意不要添加 get 或者其他的动词前缀：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，使用属性名来命名方法</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSSize)cellSize;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，添加了多余的动词前缀</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSSize)calcCellSize;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSSize)getCellSize;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">对于有多个参数的方法，务必在每一个参数前都添加关键词，关键词应当清晰说明参数的作用：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，保证每个参数都有关键词修饰</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)sendAction:(SEL)aSelector toObject:(id)anObject forAllCells:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，遗漏关键词</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)sendAction:(SEL)aSelector :(id)anObject :(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (id)viewWithTag:(NSInteger)aTag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，关键词的作用不清晰</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (id)taggedView:(int)aTag;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">不要用 and 来连接两个参数，通常 and 用来表示方法执行了两个相对独立的操作（从设计上来说，这时候应该拆分成两个独立的方法）：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要使用 "and" 来连接参数</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (int)runModalForDirectory:(NSString *)path andFile:(NSString *)name andTypes:(NSArray *)fileTypes;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，使用 "and" 来表示两个相对独立的操作</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)openFile:(NSString *)fullPath withApplication:(NSString *)appName andDeactivate:(BOOL)flag;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">方法的参数命名也有一些需要注意的地方 :</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>和方法名类似，参数的第一个字母小写，后面的每一个单词首字母大写</p></li><li><p>不要再方法名中使用类似 pointer,ptr 这样的字眼去表示指针，参数本身的类型足以说明</p></li><li><p>不要使用只有一两个字母的参数名</p></li><li><p>不要使用简写，拼出完整的单词</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;">下面列举了一些常用参数名：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...action:(SEL)aSelector</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...alignment:(int)mode</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...atIndex:(int)index</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...content:(NSRect)aRect</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...doubleValue:(double)aDouble</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...floatValue:(float)aFloat</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...font:(NSFont *)fontObj</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...frame:(NSRect)frameRect</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...intValue:(int)anInt</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...keyEquivalent:(NSString *)charCode</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...length:(int)numBytes</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...point:(NSPoint)aPoint</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...stringValue:(NSString *)aString</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...tag:(int)anInt</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...target:(id)anObject</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...title:(NSString *)aString</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>存取方法（ Accessor Methods ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">存取方法是指用来获取和设置类属性值的方法，属性的不同类型，对应着不同的存取方法规范：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 属性是一个名词时的存取方法范式</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (type)noun;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setNoun:(type)aNoun;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 栗子</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSString *)title;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setTitle:(NSString *)aTitle;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 属性是一个形容词时存取方法的范式</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSString *)title;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setTitle:(NSString *)aTitle;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 栗子</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)isAdjective;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setAdjective:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 属性是一个动词时存取方法的范式</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)verbObject;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setVerbObject:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 栗子</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)showsAlpha;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setShowsAlpha:(BOOL)flag;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">命名存取方法时不要将动词转化为被动形式来使用：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setAcceptsGlyphInfo:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)acceptsGlyphInfo;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要使用动词的被动形式</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setGlyphInfoAccepted:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)glyphInfoAccepted;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">可以使用 can,should,will 等词来协助表达存取方法的意思，但不要使用 do, 和 does ：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setCanHide:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)canHide;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setShouldCloseDocument:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)shouldCloseDocument;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要使用 "do" 或者 "does"</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setDoesAcceptGlyphInfo:(BOOL)flag;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)doesAcceptGlyphInfo;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">为什么 Objective-C 中不适用 get 前缀来表示属性获取方法？因为 get 在 Objective-C 中通常只用来表示从函数指针返回值的函数：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 三个参数都是作为函数的返回值来使用的，这样的函数名可以使用 "get" 前缀</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)getLineDash:(float *)pattern count:(int *)count phase:(float *)phase;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名委托（ Delegate ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">当特定的事件发生时，对象会触发它注册的委托方法。委托是 Objective-C 中常用的传递消息的方式。委托有它固定的命名范式。<br><br></p><p style="white-space: normal;">一个委托方法的第一个参数是触发它的对象，第一个关键词是触发对象的类名，除非委托方法只有一个名为 sender 的参数：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 第一个关键词为触发委托的类名</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)tableView:(NSTableView *)tableView shouldSelectRow:(int)row;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)application:(NSApplication *)sender openFile:(NSString *)filename;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 当只有一个 "sender" 参数时可以省略类名</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)applicationOpenUntitledFile:(NSApplication *)sender;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">根据委托方法触发的时机和目的，使用 should,will,did 等关键词</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)browserDidScroll:(NSBrowser *)sender;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSUndoManager *)windowWillReturnUndoManager:(NSWindow *)window; 、</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)windowShouldClose:(id)sender;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>集合操作类方法（ Collection Methods ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">有些对象管理着一系列其它对象或者元素的集合，需要使用类似 “ 增删查改 ” 的方法来对集合进行操作，这些方法的命名范式一般为：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 集合操作范式</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)addElement:(elementType)anObj;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)removeElement:(elementType)anObj;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSArray *)elements;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 栗子</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)addLayoutManager:(NSLayoutManager *)obj;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)removeLayoutManager:(NSLayoutManager *)obj;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSArray *)layoutManagers;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">注意，如果返回的集合是无序的，使用 NSSet 来代替 NSArray 。如果需要将元素插入到特定的位置，使用类似于这样的命名：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)insertLayoutManager:(NSLayoutManager *)obj atIndex:(int)index;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)removeLayoutManagerAtIndex:(int)index;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果管理的集合元素中有指向管理对象的指针，要设置成 weak 类型以防止引用循环。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">下面是 SDK 中 NSWindow 类的集合操作方法：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)addChildWindow:(NSWindow *)childWin ordered:(NSWindowOrderingMode)place;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)removeChildWindow:(NSWindow *)childWin;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSArray *)childWindows;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (NSWindow *)parentWindow;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setParentWindow:(NSWindow *)window;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名函数（ Functions ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">在很多场合仍然需要用到函数，比如说如果一个对象是一个单例，那么应该使用函数来代替类方法执行相关操作。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">函数的命名和方法有一些不同，主要是：</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>函数名称一般带有缩写前缀，表示方法所在的框架。</p></li><li><p>前缀后的单词以 “ 驼峰 ” 表示法显示，第一个单词首字母大写。</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;">函数名的第一个单词通常是一个动词，表示方法执行的操作：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSHighlightRect</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSDeallocateObject</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果函数返回其参数的某个属性，省略动词：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">unsigned int NSEventMaskFromType(NSEventType type)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">float NSHeight(NSRect aRect)</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果函数通过指针参数来返回值，需要在函数名中使用 Get ：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">unsigned int NSEventMaskFromType(NSEventType type)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">float NSHeight(NSRect aRect)</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">函数的返回类型是 BOOL 时的命名：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BOOL NSDecimalIsNotANumber(const NSDecimal *decimal)</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名属性和实例变量（ Properties&amp;Instance Variables ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">属性和对象的存取方法相关联，属性的第一个字母小写，后续单词首字母大写，不必添加前缀。属性按功能命名成名词或者动词：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 名词属性</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@property (strong) NSString *title;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 动词属性</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@property (assign) BOOL showsAlpha;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">属性也可以命名成形容词，这时候通常会指定一个带有 is 前缀的 get 方法来提高可读性：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@property (assign, getter=isEditable) BOOL editable;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">命名实例变量，在变量名前加上 _ 前缀（有些有历史的代码会将 _ 放在后面 ），其它和命名属性一样：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@implementation MyClass {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BOOL _showsTitle;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">一般来说，类需要对使用者隐藏数据存储的细节，所以不要将实例方法定义成公共可访问的接口，可以使用 @private ， @protected 前缀。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">按苹果的说法，不建议在除了 init 和 dealloc 方法以外的地方直接访问实例变量，但很多人认为直接访问会让代码更加清晰可读，只在需要计算或者执行操作的时候才使用存取方法访问，我就是这种习惯，所以这里不作要求。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名常量（ Constants ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果要定义一组相关的常量，尽量使用枚举类型（ enumerations ），枚举类型的命名规则和函数的命名规则相同：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 定义一个枚举，注意带有 `_` 的名称是不会被使用的</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">typedef enum _NSMatrixMode {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSRadioModeMatrix = 0,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSHighlightModeMatrix = 1,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSListModeMatrix = 2,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSTrackModeMatrix = 3</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">} NSMatrixMode;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">使用匿名枚举定义 bit map ：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">enum {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSBorderlessWindowMask = 0,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSTitledWindowMask = 1 &lt;&lt; 0,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSClosableWindowMask = 1 &lt;&lt; 1,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSMiniaturizableWindowMask = 1 &lt;&lt; 2,</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSResizableWindowMask = 1 &lt;&lt; 3</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">使用 const 定义浮点型或者单个的整数型常量，如果要定义一组相关的整数常量，应该优先使用枚举。常量的命名规范和函数相同：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">const float NSLightGray;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">不要使用 #define 宏来定义常量，如果是整型常量，尽量使用枚举，浮点型常量，使用 const 定义。 #define 通常用来给编译器决定是否编译某块代码，比如常用的：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#ifdef DEBUG</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">注意到一般由编译器定义的宏会在前后都有一个 __ ，比如 __MACH__ 。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>命名通知（ Notifications ）</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">通知常用于在模块间传递消息，所以通知要尽可能地表示出发生的事件，通知的命名范式是：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[ 触发通知的类名 ] + [Did | Will] + [ 动作 ] + Notification</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">栗子：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSApplicationDidBecomeActiveNotification</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSWindowDidMiniaturizeNotification</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSTextViewDidChangeSelectionNotification</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSColorPanelColorDidChangeNotification</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><span style="color: rgb(0, 176, 80);"><strong>注释</strong></span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">读没有注释代码的痛苦你我都体会过，好的注释不仅能让人轻松读懂你的程序，还能提升代码的逼格。注意注释是为了让别人看懂，而不是仅仅你自己。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>文件注释</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">每一个文件都必须写文件注释，文件注释通常包含</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>文件所在模块</p></li><li><p>作者信息</p></li><li><p>历史版本信息</p></li><li><p>版权信息</p></li><li><p>文件包含的内容，作用</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;">一段良好文件注释的栗子：<br><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">/*******************************************************************************</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Copyright (C), 2011-2013, Andrew Min Chang</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">File name: AMCCommonLib.h</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Author: Andrew Chang (Zhang Min)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">E-mail: LaplaceZhang@126.com</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Description:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">This file provide some covenient tool in calling library tools. One can easily include</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">library headers he wants by declaring the corresponding macros.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">I hope this file is not only a header, but also a useful Linux library note.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">History:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-??-??: On about come date around middle of Year 2012, file created as "commonLib.h"</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-08-20: Add shared memory library; add message queue.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-08-21: Add socket library (local)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-08-22: Add math library</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-08-23: Add socket library (internet)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-08-24: Add daemon function</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-10-10: Change file name as "AMCCommonLib.h"</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2012-12-04: Add UDP support in AMC socket library</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2013-01-07: Add basic data type such as "sint8_t"</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2013-01-18: Add CFG_LIB_STR_NUM.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2013-01-22: Add CFG_LIB_TIMER.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">2013-01-22: Remove CFG_LIB_DATA_TYPE because there is already AMCDataTypes.h</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Copyright information:</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">This file was intended to be under GPL protocol. However, I may use this library</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">in my work as I am an employee. And my company may require me to keep it secret.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">Therefore, this file is neither open source nor under GPL control.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">********************************************************************************/</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">文件注释的格式通常不作要求，能清晰易读就可以了，但在整个工程中风格要统一。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>代码注释</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">好的代码应该是 “ 自解释 ” （ self-documenting ）的，但仍然需要详细的注释来说明参数的意义、返回值、功能以及可能的副作用。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">方法、函数、类、协议、类别的定义都需要注释，推荐采用 Apple 的标准注释风格，好处是可以在引用的地方 alt+ 点击自动弹出注释，非常方便。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">有很多可以自动生成注释格式的插件，推荐使用 VVDocumenter ：</p><p style="white-space: normal;"></p><p style="white-space: normal;">一些良好的注释：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">/**</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* Create a new preconnector to replace the old one with given mac address.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* NOTICE: We DO NOT stop the old preconnector, so handle it by yourself.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">*</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* @param type Connect type the preconnector use.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* @param macAddress Preconnector's mac address.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">*/</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)refreshConnectorWithConnectType:(IPCConnectType)type Mac:(NSString *)macAddress;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">/**</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* Stop current preconnecting when application is going to background.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">*/</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">-(void)stopRunning;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">/**</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* Get the COPY of cloud device with a given mac address.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">*</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* @param macAddress Mac address of the device.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">*</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">* @return Instance of IPCCloudDevice.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">*/</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">-(IPCCloudDevice *)getCloudDeviceWithMac:(NSString *)macAddress;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// A delegate for NSApplication to handle notifications about app</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// launch and shutdown. Owned by the main app controller.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@interface MyAppDelegate : NSObject {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@end</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">协议、委托的注释要明确说明其被触发的条件：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">/** Delegate - Sent when failed to init connection, like p2p failed. */</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">-(void)initConnectionDidFailed:(IPCConnectHandler *)handler;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">如果在注释中要引用参数名或者方法函数名，使用 || 将参数或者方法括起来以避免歧义：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// Sometimes we need |count| to be less than zero.</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// Remember to call |StringWithoutSpaces("foo bar baz")|</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">定义在头文件里的接口方法、属性必须要有注释！<br><br></p><p style="white-space: normal;"><span style="color: rgb(0, 176, 80);"><strong>编码风格</strong></span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">每个人都有自己的编码风格，这里总结了一些比较好的 Cocoa 编程风格和注意点。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>不要使用 new 方法</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">尽管很多时候能用 new 代替 alloc init 方法，但这可能会导致调试内存时出现不可预料的问题。 Cocoa 的规范就是使用 alloc init 方法，使用 new 会让一些读者困惑。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>Public API 要尽量简洁</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">共有接口要设计的简洁，满足核心的功能需求就可以了。不要设计很少会被用到，但是参数极其复杂的 API 。如果要定义复杂的方法，使用类别或者类扩展。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>#import 和 #include</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">#import 是 Cocoa 中常用的引用头文件的方式，它能自动防止重复引用文件，什么时候使用 #import ，什么时候使用 #include 呢？</p><p style="white-space: normal;"><br></p><ul class=" list-paddingleft-2" style="width: 478.796875px; white-space: normal;"><li><p>当引用的是一个 Objective-C 或者 Objective-C++ 的头文件时，使用 #import</p></li><li><p>当引用的是一个 C 或者 C++ 的头文件时，使用 #include ，这时必须要保证被引用的文件提供了保护域（ #define guard ）。</p></li></ul><p style="white-space: normal;"><br></p><p style="white-space: normal;">栗子：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#import</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#include</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#import "GTMFoo.h"</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#include "base/basictypes.h"</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">为什么不全部使用 #import 呢？主要是为了保证代码在不同平台间共享时不出现问题。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>引用框架的根头文件</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">上面提到过，每一个框架都会有一个和框架同名的头文件，它包含了框架内接口的所有引用，在使用框架的时候，应该直接引用这个根头文件，而不是其它子模块的头文件，即使是你只用到了其中的一小部分，编译器会自动完成优化的。</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，引用根头文件</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#import</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要单独引用框架内的其它头文件</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#import</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">#import</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>BOOL 的使用</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">BOOL 在 Objective-C 中被定义为 signed char 类型，这意味着一个 BOOL 类型的变量不仅仅可以表示 YES(1) 和 NO(0) 两个值，所以永远不要将 BOOL 类型变量直接和 YES 比较：</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，无法确定 |great| 的值是否是 YES(1) ，不要将 BOOL 值直接与 YES 比较</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BOOL great = [foo isGreat];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (great == YES)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// ...be great!</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">BOOL great = [foo isGreat];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (great)</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// ...be great!</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">同样的，也不要将其它类型的值作为 BOOL 来返回，这种情况下， BOOL 变量只会取值的最后一个字节来赋值，这样很可能会取到 0 （ NO ）。但是，一些逻辑操作符比如 &amp;&amp;,||,! 的返回是可以直接赋给 BOOL 的：<br></p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要将其它类型转化为 BOOL 返回</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)isBold {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return [self fontTraits] &amp; NSFontBoldTrait;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)isValid {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return [self stringValue];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)isBold {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return ([self fontTraits] &amp; NSFontBoldTrait) ? YES : NO;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，逻辑操作符可以直接转化为 BOOL</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)isValid {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return [self stringValue] != nil;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (BOOL)isEnabled {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return [self isValid] &amp;&amp; [self isBold];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;">另外 BOOL 类型可以和 _Bool,bool 相互转化，但是不能和 Boolean 转化。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>使用 ARC</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">除非想要兼容一些古董级的机器和操作系统，我们没有理由放弃使用 ARC 。在最新版的 Xcode(6.2) 中， ARC 是自动打开的，所以直接使用就好了。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>在 init 和 dealloc 中不要用存取方法访问实例变量</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">当 initdealloc 方法被执行时，类的运行时环境不是处于正常状态的，使用存取方法访问变量可能会导致不可预料的结果，因此应当在这两个方法内直接访问实例变量。</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，直接访问实例变量</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (instancetype)init {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">self = [super init];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (self) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">_bar = [[NSMutableString alloc] init];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return self;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)dealloc {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[_bar release];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[super dealloc];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要通过存取方法访问</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (instancetype)init {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">self = [super init];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (self) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">self.bar = [NSMutableString string];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">return self;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)dealloc {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">self.bar = nil;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">[super dealloc];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>按照定义的顺序释放资源</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">在类或者 Controller 的生命周期结束时，往往需要做一些扫尾工作，比如释放资源，停止线程等，这些扫尾工作的释放顺序应当与它们的初始化或者定义的顺序保持一致。这样做是为了方便调试时寻找错误，也能防止遗漏。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>保证 NSString 在赋值时被复制</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">NSString 非常常用，在它被传递或者赋值时应当保证是以复制（ copy ）的方式进行的，这样可以防止在不知情的情况下 String 的值被其它对象修改。</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">- (void)setFoo:(NSString *)aFoo {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">_foo = [aFoo copy];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>使用 NSNumber 的语法糖</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">使用带有 @ 符号的语法糖来生成 NSNumber 对象能使代码更简洁：</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSNumber *fortyTwo = @42;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSNumber *piOverTwo = @(M_PI / 2);</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">enum {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">kMyEnum = 2;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">};</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSNumber *myEnum = @(kMyEnum);</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>nil 检查</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">因为在 Objective-C 中向 nil 对象发送命令是不会抛出异常或者导致崩溃的，只是完全的 “ 什么都不干 ” ，所以，只在程序中使用 nil 来做逻辑上的检查。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;">另外，不要使用诸如 nil == Object 或者 Object == nil 的形式来判断。</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，直接判断</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (!objc) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要使用 nil == Object 的形式</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">if (nil == objc) {</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">...</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">}</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>属性的线程安全</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">定义一个属性时，编译器会自动生成线程安全的存取方法（ Atomic ），但这样会大大降低性能，特别是对于那些需要频繁存取的属性来说，是极大的浪费。所以如果定义的属性不需要线程保护，记得手动添加属性关键字 nonatomic 来取消编译器的优化。</p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>点分语法的使用</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">不要用点分语法来调用方法，只用来访问属性。这样是为了防止代码可读性问题。</p><p style="white-space: normal;"><br></p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 正确，使用点分语法访问属性</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSString *oldName = myObject.name;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">myObject.name = @"Alice";</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">// 错误，不要用点分语法调用方法</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSArray *array = [NSArray arrayWithObject:@"hello"];</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">NSUInteger numberOfItems = array.count;</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">array.release;</p></blockquote><p style="white-space: normal;"><br></p><p style="white-space: normal;"><strong>Delegate 要使用弱引用</strong></p><p style="white-space: normal;"><br></p><p style="white-space: normal;">一个类的 Delegate 对象通常还引用着类本身，这样很容易造成引用循环的问题，所以类的 Delegate 属性要设置为弱引用。</p><blockquote style="white-space: normal; padding: 15px; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 12px; border-top-width: 3px; border-right-width: 3px; border-bottom-width: 3px; border-style: dashed; border-color: rgb(0, 187, 236); border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;"><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">/** delegate */</p><p class="ue_t" style="margin-top: 0px; margin-bottom: 0px; padding: 0px;">@property (nonatomic, weak) iddelegate;</p></blockquote></div>                    <script type="text/javascript">
                        var first_sceen__time = (+new Date());
                    </script>                    <link rel="stylesheet" type="text/css" href="./Objective-C开发编码规范_files/page_mp_article_improve_combo25accd.css">                                                                                                    <div class="rich_media_tool" id="js_toobar">                                                <a class="media_tool_meta meta_primary" id="js_view_source" href="javascript:void(0);">阅读原文</a>                                                <div id="js_read_area" class="media_tool_meta tips_global meta_primary" style="display:none;">阅读 <span id="readNum"></span></div>                        <span style="display:none;" class="media_tool_meta meta_primary tips_global meta_praise" id="like">                            <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum"></span>                        </span>                        <a id="js_report_article" style="display:none;" class="media_tool_meta tips_global meta_extra" href="javascript:void(0);">举报</a>                    </div>                </div>                <div class="rich_media_area_extra">                                        <div class="mpda_bottom_container" id="js_bottom_ad_area"></div>                                        <div id="js_iframetest" style="display:none;"></div>                                                        </div>                           </div>            <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display: block;">                <div class="qr_code_pc_inner">                    <div class="qr_code_pc">                        <img id="js_pc_qr_code_img" class="qr_code_pc_img" src="./Objective-C开发编码规范_files/qrcode">                        <p>微信扫一扫<br>关注该公众号</p>                    </div>                </div>            </div>        </div>    </div>                <script>window.moon_map = {"a/gotoappdetail.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/gotoappdetail25837f.js","a/ios.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/ios24a769.js","a/android.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/android22772d.js","a/profile.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/profile25837f.js","biz_common/utils/report.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/report224ef3.js","biz_common/utils/cookie.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/cookie224ef3.js","appmsg/reward_entry.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/reward_entry25accd.js","appmsg/comment.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment258406.js","appmsg/like.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/like2340dc.js","appmsg/a.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/a25837f.js","biz_common/tmpl.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/tmpl224ef3.js","biz_common/ui/imgonepx.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/ui/imgonepx224ef3.js","biz_common/dom/attr.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/attr22f190.js","biz_wap/utils/ajax.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax25888e.js","biz_common/utils/string/html.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/string/html224ef3.js","appmsg/report.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report23c757.js","biz_common/dom/class.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/class236751.js","appmsg/report_and_source.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report_and_source23a582.js","appmsg/page_pos.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/page_pos253aa9.js","appmsg/cdn_speed_report.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_speed_report224ef3.js","appmsg/iframe.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/iframe258fce.js","appmsg/review_image.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/review_image2480be.js","appmsg/outer_link.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/outer_link224ef3.js","biz_wap/jsapi/core.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/core22589f.js","biz_common/dom/event.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/event24f08a.js","appmsg/async.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/async25624b.js","biz_wap/ui/lazyload_img.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/ui/lazyload_img23354e.js","biz_common/log/jserr.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/log/jserr22589f.js","appmsg/share.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share251ea5.js","biz_wap/utils/mmversion.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/mmversion224ef3.js","appmsg/cdn_img_lib.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_img_lib23c757.js","biz_common/utils/url/parse.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/url/parse25b6ff.js","appmsg/index.js":"http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/index25b6ff.js"};</script><script type="text/javascript" src="./Objective-C开发编码规范_files/moon230eaa.js"></script>    <script id="t_cmt" type="text/html">
        <li class="discuss_item" id="cid<# if (is_from_me == 1) { #><#=my_id#><# } else { #><#=content_id#><# } #>">
            <# if(is_elected == 1){ #>
            <div class="discuss_opr">
                <span class="media_tool_meta tips_global meta_praise js_comment_praise <# if(like_status == 1){ #>praised<# } #>" data-status="<#=like_status#>" data-content-id='<#=content_id#>'>
                    <i class="icon_praise_gray"></i>
                    <span class="praise_num"><# if(like_num_format !== 0){ #><#=like_num_format#> <# } #></span>
                </span>
            </div>
            <# } #>
            <div class="user_info">
                <strong class="nickname"><#=nick_name#><# if(is_from_friend == 1){ #>(朋友)<# } #></strong>
                <img class="avatar" src="<#=logo_url#>">
            </div>
            <div class="discuss_message">
                <span class="discuss_status"><#=status#></span>
                <#=content#>
            </div>
            <p class="discuss_extra_info">
                <#=time#>               
                <# if (is_from_me == 1) { #>
                <a class="discuss_del js_del" href="javascript:;" data-my-id="<#=my_id#>" data-content-id="<#=content_id#>">删除</a>
                <# } #>
            </p>
            <# if(reply && reply.reply_list && reply.reply_list.length > 0){ #>
                <div class="reply_result">
                    <div class="nickname">作者回复</div>
                    <div class="discuss_message"><#=reply.reply_list[0].content#></div>
                    <p class="discuss_extra_info"><#=reply.reply_list[0].time#></p>
                </div>
            <# } #>
                
        </li>
    </script>  <script id="t_ad" type="text/html">
    <div class="rich_media_extra" id="gdt_area">
        <# if(pos_type==0){ #>
        <div class="rich_tips with_line title_tips">
            <span class="tips">推广</span>
        </div>
        <# } #>
        <div class="js_ad_link extra_link" data-type="<#=type#>" data-ticket="<#=ticket#>" data-url="<#=url#>" data-rl="<#=rl#>"  data-aid="<#=aid#>" data-pt="<#=pt#>" data-tid="<#=traceid#>" data-gid="<#=group_id#>" data-apurl="<#=apurl#>">
            <# if(pt==1){ #>
            <#=hint_txt#>
            <img class="icon_arrow_gray" src="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_arrow_gray1ef6d4.png">
            <img class="icon_loading_white icon_after" style="display:none;" id="loading_<#=traceid#>" src="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white22c04a.gif">
            <# }else if(pt==2){ #>
            
            <# if (logo.indexOf("http://mmsns.qpic.cn/") == 0){ #>
            <div class="brand_logo"><img src="<#=logo#>" alt="logo图片"></div>
            <# } #>
            <img class="appmsg_banner" src="<#=image_url#>">
            <# if(watermark_type!=0){ #><i class="promotion_tag"><# if(watermark_type==1){ #>商品推广<# }else if (watermark_type==2){ #>活动推广<# } #></i><# } #>
            <# }else if(pt==7){ #>
            
            <div class="preview_group preview_card">
                <div class="preview_group_inner card_inner">
                    <div class="preview_group_info">
                        <strong class="preview_group_title2"><#=hint_txt#></strong>
                        <div class="preview_group_desc"><#=ad_desc#></div>
                        <img src="<#=image_url#>" alt="" class="preview_card_avatar">
                    </div>
                </div>
            </div>
            <# }else if(pt==100){ #>
            <div class="preview_group">
                <div class="preview_group_inner">
                    <div class="preview_group_info append_btn">
                        <strong class="preview_group_title"><#=biz_info.nick_name#></strong>
                        <div class="preview_group_desc"><#=hint_txt#></div>
                        <# if(!!biz_info.head_img){ #>
                        <img src="<#=biz_info.head_img#>" alt="" class="preview_group_avatar br_radius">
                        <# }else{ #>
                        <img class="preview_group_avatar br_radius" src="http://mmbiz.qpic.cn/mmbiz/a5icZrUmbV8p5jb6RZ8aYfjfS2AVle8URwBt8QIu6XbGewB9wiaWYWkPwq4R7pfdsFibuLkic16UcxDSNYtB8HnC1Q/0" alt="<#=biz_info.nick_name#>">
                        <# } #>                                 
                    </div>
                    <div class="preview_group_opr">
                        <a id="js_view_profile_<#=pos_type#>" <# if(biz_info.is_subscribed == 0){ #>style="display:none"<# } #> class="btn btn_inline btn_primary btn_line js_ad_btn" href="javascript:void(0);">查看</a>
                        <a id="js_add_contact_<#=pos_type#>" data-url="<#=url#>" data-type="<#=type#>" data-tid="<#=traceid#>" data-rl="<#=rl#>" <# if(biz_info.is_subscribed ==1){ #>style="display:none"<# } #> class="btn btn_inline btn_line  btn_primary js_ad_btn" href="javascript:void(0);">关注</a>
                    </div>
                </div>
            </div>
            <# }else if(pt==102){ #>
            <div class="preview_group">
                <div class="preview_group_inner">
                    <div class="preview_group_info append_btn">
                        <strong class="preview_group_title"><#=app_info.app_name#></strong>
                        <div class="preview_group_desc"><#=hint_txt#></div>
                        <img src="<#=app_info.icon_url#>" alt="" class="preview_group_avatar br_radius">
                    </div>
                    <div class="preview_group_opr">
                        <a id="js_app_action_<#=pos_type#>" class="btn btn_inline btn_primary js_ad_btn btn_download" href="javascript:void(0);">下载</a>
                    </div>
                </div>
            </div>
            <# }else if(pt==101){ #>
            <div class="preview_group preview_card">
                <div class="preview_group_inner card_inner">                            
                    <div class="preview_group_info append_btn">
                        <strong class="preview_group_title"><#=app_info.app_name#></strong>
                        <div class="preview_group_desc"><#=hint_txt#></div>
                        <img src="<#=app_info.icon_url#>" alt="" class="preview_card_avatar">                               
                    </div>
                    <div class="preview_group_opr">
                        <a href="javascript:void(0);" id="js_app_action_<#=pos_type#>" class="btn btn_inline btn_primary js_ad_btn">下载</a>
                    </div>
                </div>                        
            </div>
            <# }else if(pt==103||pt==104){ #>
            <div class="preview_group obvious_app">
                <div class="preview_group_inner">
                    <div class="pic_app">
                        <img src="<#=image_url#>" alt="">
                    </div>
                    <div class="info_app">
                        <p class="name_app"><#=app_info.app_name#></p>
                        <# if(pt==103){ #>
                        <p class="profile_app" style="display:none;"><span class="fun_exp"><#=app_info._category#></span><em>|</em><span class="compacity"><#=app_info._app_size#></span></p>
                        <# } else if(pt==104){ #>
                        <p class="profile_app" style="display:none;"><span class="fun_exp"><#=app_info._app_size#></span><em>|</em><span class="compacity"><#=app_info._down_count#></span></p>
                        <# } #>
                        
                        <p class="grade_app" id="js_app_rating_<#=pos_type#>">
                            
                            <span class="js_stars stars" style="display:none;"></span>
                            
                            <span class="js_scores scores">暂无评分</span>
                        </p>
                        <div class="dm_app">
                            <a href="javascript:void(0);" id="js_appdetail_action_<#=pos_type#>" class="ad_btn btn_download js_ad_btn">下载</a>
                            <p class="extra_info">来自<# if(pt==103){ #>App Store<# }else{ #>腾讯应用宝<# } #></p>
                        </div>
                    </div>
                </div>            
            </div>
            <# } #>
        </div>
    </div>
  </script>  <script type="text/javascript">
      var not_in_mm_css = "http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg/not_in_mm24ed02.css";
      var tid = "";
      var aid = "";
      var appuin = "MzA3NzM0NzkxMQ==";

      var source = "5";
      var scene = 75;
      
      var itemidx = "";
      var nickname = "iOS开发";
      var ct = "1431137206";
      var user_name = "gh_33fa0065e3f3";
      var user_name_new = "";
      var fakeid   = "";
      var version   = "";
      var is_limit_user   = "0";
      var msg_title = "Objective-C开发编码规范";
      var msg_desc = "Objective-C&nbsp;编码规范，内容来自苹果、谷歌的文档翻译，自己的编码经验和对其它资料的总结。";
      var msg_cdn_url = "http://mmbiz.qpic.cn/mmbiz/8RTSPr4mlyk7NjYpkHtkagClJ7DkyxUDcrRAGiaWc5Te1YRrOQjwBkibMMuE4COdqqSy9FE1XJDaWEsq4XQ1Fz6Q/0?wx_fmt=jpeg";
      var msg_link = "http://mp.weixin.qq.com/s?__biz=MzA3NzM0NzkxMQ==&amp;mid=206050109&amp;idx=1&amp;sn=c38de66569e98f187f60f6815d863215#rd";
      var user_uin = "0"*1;
      var msg_source_url = 'http://www.superqq.com/#rd';
      var img_format = 'jpeg';
      var networkType;
      var appmsgid = '' || '206050109';
      var comment_id = "0" * 1;
      var svr_time = "1432112910" * 1;
      var comment_enabled = "" * 1;
      var is_need_reward = "0" * 1;
      var is_https_res = ("" * 1) && (location.protocol == "https:");

      var devicetype = "";
      var source_username = "";

      seajs.use("appmsg/index.js");
  </script>    </body></html>